<!DOCTYPE html>
<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/templates/template.xhtml">
    <ui:define name="pageTitle">Brainshare - Compartilhando Sabedoria</ui:define>
    <ui:define name="pageContent">
        <div class="row">
            <h:form id="findQuestion">
                <aside class="large-4 push-8 columns">
                    <div class="stacked-box">
                        <div class="row collapse">
                            <div class="small-3 large-4 columns">
                                 <span class="prefix">Buscar</span>
                             </div>
                            <div class="small-9 large-8 columns">
                                <h:inputText id="findText" value="#{questionController.titleOrDesc}" class="search-input" >
                                    <f:ajax event="keyup" execute="findQuestion:findText" render="findQuestion:listagem" ></f:ajax>
                                </h:inputText>
                            </div>
                            
                        </div>
                        Para criar uma pergunta, basta clicar no botão abaixo: <br />
                        <br /> <a href="insertQuestion.jsf" class="btn green">PERGUNTAR</a>
                    </div>
                </aside>
                <div  class="large-8 pull-4 columns">
                    <h:dataTable id="listagem" value="#{questionController.listByTitleOrDesc}" var="question" >
                        <h:column>
                            <section class="stacked-box question">
                                <h:commandLink action="#{question.show}"> <span class="title">#{question.title}</span></h:commandLink>
                            
                                <span class="author">por <a href="#">#{question.user.username}</a> às #{question.dateRegister}</span>
                            
                                <div class="categorias">
                                    <a href="#" class="categoria">#{question.tags.name}</a> 
                                </div>
                                <span class="question-note">10 Votos</span> <span class="question-note">#{question.countAnswer} Respostas</span>
                            </section>
                        </h:column>
                     </h:dataTable>
                </div>
            </h:form>
        </div>
    </ui:define>
</ui:composition>

</html>